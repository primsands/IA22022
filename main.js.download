!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports={getCookie:function(e){const t=e+"=";if(!document)return"";const n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""},setCookie:function(e,t,n){let o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);const i="expires="+o.toUTCString();document.cookie=e+"="+t+"; "+i+"; path=/"},setTrackingAttrs:(e,t,n)=>{for(const o in t)o.indexOf("-order")>-1&&(t[o]=n+1),e.setAttribute(o,t[o])}}},function(e,t,n){"use strict";n.r(t);var o=n(0);window.indieApps=window.indieApps||[],window.indieApps.push({init:function(e,t){const n=window.newscorpau||{},i=window.location.hostname,s=window.location.href,r=n&&n.site?"news"===n.site?"newscomau":n.site:"dailytelegraph",c="https://fe9515747362007f76.pub.s4.sfmc-content.com/",u={prod:{mcGetSubEnpoint:"1fl0etcx1re",mcAddSubEnpoint:"n2odhyullkc"},sitanduat:{mcGetSubEnpoint:"eoqdbexsjxd",mcAddSubEnpoint:"zsh5dxwfnwx"}},d={Accept:"application/json","Accept-Encoding":"identity"},a=t.querySelector(".newsletter-signups"),l=Object(o.getCookie)("rampart_token"),p=/localhost|uat|sit/g.test(i)?/uat/g.test(i)?"uat":"sit":"prod",f="prod"===p?u[p].mcGetSubEnpoint:u.sitanduat.mcGetSubEnpoint,g="prod"===p?u[p].mcAddSubEnpoint:u.sitanduat.mcAddSubEnpoint;setTimeout((function(){l&&a&&(fetch(`${c}${f}?token=${l}&env=${p}&brand=${r}&sitePath=${s}`,{headers:d}).then(e=>e.json()).then(e=>{const t=e.Permissions,n=e.NewsletterInfo;n&&n.forEach((e,n)=>{const o=e.Permission;-1===t.indexOf(o)&&function(e,t){const n="newsletter-"+t,o=document.querySelector(".header_greeting");let i="";o&&o.innerText.length>0&&(i=`Hi ${o.innerText.split(",")[1]}, `);const s=`\n            <div class="newsletter-signup" id="${n}" permission="${e.Permission}">\n                <h4 class="g_font-title-xxs">${e.headerText} Newsletter</h4>\n\t\t\t\t<p class="g_font-body-m">${i} ${e.bodyText}</p>\n                <button class="sign-up-btn g_font-body-s">Sign up</button>                \n            </div>`;a.insertAdjacentHTML("beforeend",s)}(e,n)})}).catch(e=>{}),a.addEventListener("click",(function(e){const t=e.target;t&&t.classList.contains("sign-up-btn")&&function(e){const t=e.parentNode,n=(t.querySelector("h4"),t.querySelector("p")),o=t.getAttribute("permission");e.textContent="Signing up...",e.disabled=!0;const i={permission:o,brand:r,token:l,env:p,sip:"Widget"};fetch(`${c}${g}`,{method:"POST",headers:d,body:JSON.stringify(i)}).then(e=>e.json()).then(i=>{if(i.Response&&"Success"==i.Response){n.innerHTML=`<strong>Success!</strong> Check your inbox for details.<a class="gpc-link" href="https://www.newsletters.news.com.au/${r.toLowerCase()}">See all newsletters</a>`,e.style.display="none";const t={events:["event141"],eVar70:o+"_ARTICLE"};window.mready=window.mready||[],window.mready.push(e=>{e.ev(t)})}else t.innerHTML="Something went wrong please try again"}).catch(e=>{})}(t)})))}),3e3)}})}]);